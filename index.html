<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Travel Explorer</title>
  <link rel="stylesheet" href="./travel.css" />
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css"
    rel="stylesheet"
  />
  <style>
    .search_card {
      border: 1px solid #ccc;
      padding: 10px;
      margin: 10px;
      width: 300px;
      text-align: center;
    }
    .search_card img {
      width: 100%;
      height: auto;
    }
  </style>
</head>
<body>
  <!-- Navbar -->
  <nav class="navbar bg-body-tertiary">
    <div class="container-fluid">
      <a class="navbar-brand"><img src="./logo.png" alt="Logo" /></a>
      <div class="d-flex">
        <a class="navbar-brand" href="./index.html">Home</a>
        <a class="navbar-brand" href="./about.html">About Us</a>
        <a class="navbar-brand" href="./contact.html">Contact Us</a>
        <form class="d-flex" role="search">
          <div id="searchBox" style="display: none">
            <input
              class="form-control me-2 header_search"
              type="search"
              placeholder="Enter a destination or keyword"
              aria-label="Search"
            />
          </div>
          <button
            class="btn btn-outline-success mx-1"
            type="button"
            id="searchToggle"
          >
            Search
          </button>
        </form>
      </div>
    </div>
  </nav>

  <!-- Hero Section -->
  <div class="container mt-4">
    <div class="row">
      <div class="col-1">
        <div class="d-flex flex-column social">
          <img src="./twitter.png" alt="twitter" class="social_icons" />
          <img src="./facebook-app-symbol.png" alt="fb" class="social_icons" />
          <img src="./youtube.png" alt="yt" class="social_icons" />
          <img src="./instagram.png" alt="insta" class="social_icons" />
        </div>
      </div>
      <div class="col-11">
        <h1 class="heading_home">EXPLORE<br />DREAM<br />DESTINATION</h1>
        <p class="para">
          It encourages exploration of unfamiliar territories, embracing diverse cultures and landscapes, while pursuing the desired destination that captivates the heart and ignites a sense of wonder.
        </p>
        <button class="bookNow">Book now</button>
      </div>
    </div>
  </div>

  <!-- Cards Section -->
  <div class="search_conatiner mt-4">
    <div id="cards-container" class="d-flex flex-wrap justify-content-center"></div>
  </div>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    let allCities = [];

    // Toggle search box
    document.getElementById("searchToggle").addEventListener("click", function () {
      const searchBox = document.getElementById("searchBox");
      searchBox.style.display = searchBox.style.display === "none" ? "block" : "none";
    });

    // Fetch data from JSON
    fetch("travel_recommendation_api.json")
      .then(response => response.json())
      .then(data => {
        allCities = data.countries.flatMap(country => country.cities);
        displayCities(allCities); // Show all cities initially
      })
      .catch(error => console.error("Error loading JSON:", error));

    // Display cards
    function displayCities(cities) {
      const container = document.getElementById("cards-container");
      container.innerHTML = "";

      cities.forEach(city => {
        const card = document.createElement("div");
        card.className = "search_card";

        card.innerHTML = `
          <img src="${city.imageUrl}" alt="${city.name}">
          <p><strong>${city.name}</strong></p>
          <p>${city.description}</p>
        `;

        container.appendChild(card);
      });
    }

    // Filter on input
    document.addEventListener("input", function (e) {
      if (e.target.classList.contains("header_search")) {
        const keyword = e.target.value.toLowerCase();
        const filtered = allCities.filter(city =>
          city.name.toLowerCase().includes(keyword) ||
          city.description.toLowerCase().includes(keyword)
        );
        displayCities(filtered);
      }
    });
  </script>
</body>
</html>